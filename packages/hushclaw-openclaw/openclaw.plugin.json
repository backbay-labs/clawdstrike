{
  "id": "hushclaw",
  "version": "0.1.0",
  "name": "HushClaw Security Plugin",
  "description": "Multi-model security enforcement for OpenClaw agents. Provides policy-based access control, secret detection, and egress filtering.",
  "main": "./dist/index.js",
  "configSchema": {
    "type": "object",
    "properties": {
      "policy": {
        "type": "string",
        "description": "Path to policy YAML file or built-in ruleset name (e.g., 'hushclaw:ai-agent-minimal')"
      },
      "mode": {
        "type": "string",
        "enum": ["deterministic", "advisory", "audit"],
        "default": "deterministic",
        "description": "Enforcement mode: deterministic (block), advisory (warn), audit (log only)"
      },
      "logLevel": {
        "type": "string",
        "enum": ["debug", "info", "warn", "error"],
        "default": "info",
        "description": "Logging verbosity level"
      },
      "guards": {
        "type": "object",
        "description": "Enable/disable specific guards",
        "properties": {
          "forbidden_path": {
            "type": "boolean",
            "default": true
          },
          "egress": {
            "type": "boolean",
            "default": true
          },
          "secret_leak": {
            "type": "boolean",
            "default": true
          },
          "patch_integrity": {
            "type": "boolean",
            "default": true
          }
        }
      }
    },
    "required": []
  },
  "hooks": [
    {
      "event": "tool_result_persist",
      "handler": "./dist/hooks/tool-guard/handler.js"
    },
    {
      "event": "agent:bootstrap",
      "handler": "./dist/hooks/agent-bootstrap/handler.js"
    }
  ],
  "tools": [
    {
      "name": "policy_check",
      "handler": "./dist/tools/policy-check.js"
    }
  ],
  "commands": [
    {
      "name": "hushclaw",
      "description": "Hushclaw security management"
    }
  ]
}
